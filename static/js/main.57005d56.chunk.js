(this["webpackJsonpweather-task"]=this["webpackJsonpweather-task"]||[]).push([[0],{28:function(e,t,c){},30:function(e,t,c){},40:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(20),r=c.n(s),i=(c(28),c(14)),l=c(8),o=c(2),j=c(10),d=c.n(j),u=c(21),h=c(15),b=(c(23),c(7)),p=(c(30),c(0)),m=function(e){var t=e.requestWeather,c=Object(a.useState)(""),n=Object(b.a)(c,2),s=n[0],r=n[1];return Object(p.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},className:"row",children:[Object(p.jsx)("div",{style:{marginLeft:"0"},className:"input-field col s4",children:Object(p.jsx)("input",{id:"city",type:"text",className:"validate",placeholder:"Enter city",value:s,onChange:function(e){return r(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&s?t(s,r):"Enter"!==e.key||s||alert("\u041f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u043e\u0435")}})}),Object(p.jsx)("div",{style:{marginLeft:"0"},className:"col s2",children:Object(p.jsxs)("button",{className:"btn waves-effect waves-light light-blue darken-3",type:"submit",name:"action",onClick:function(){s?t(s,r):alert("\u041f\u043e\u043b\u0435 \u043f\u0443\u0441\u0442\u043e\u0435")},children:["Add city",Object(p.jsx)("i",{className:"material-icons right",children:"send"})]})})]})},O=function(e){var t=e.cityOne,c=e.deleteCity,a=t.temperature,n=t.wind,s=t.description,r=t.city;return Object(p.jsxs)("ul",{className:"collection with-header","data-city":r,children:[Object(p.jsxs)("li",{className:"collection-header",children:[Object(p.jsx)(l.b,{to:"/weather-task/".concat(r),children:r}),Object(p.jsx)("span",{className:"remove-card",onClick:function(){return c(r)},children:Object(p.jsx)("i",{className:"material-icons",children:"close"})})]}),Object(p.jsxs)("li",{className:"collection-item",children:["Temperature: ",a]}),Object(p.jsxs)("li",{className:"collection-item",children:["Wind: ",n]}),Object(p.jsxs)("li",{className:"collection-item",children:["Description: ",s]})]})},x=function(e){var t=e.cities,c=void 0===t?[]:t,a=e.deleteCity;return Object(p.jsx)("div",{className:"cards-weather",children:c.map((function(e,t){return Object(p.jsx)(O,{cityOne:e,deleteCity:a},t+Date.now())}))})},f=function(){return Object(p.jsx)("div",{style:{display:"block",margin:"15px auto 100px auto"},className:"preloader-wrapper big active",children:Object(p.jsxs)("div",{className:"spinner-layer spinner-blue-only",children:[Object(p.jsx)("div",{className:"circle-clipper left",children:Object(p.jsx)("div",{className:"circle"})}),Object(p.jsx)("div",{className:"gap-patch",children:Object(p.jsx)("div",{className:"circle"})}),Object(p.jsx)("div",{className:"circle-clipper right",children:Object(p.jsx)("div",{className:"circle"})})]})})},y=function(){return Object(p.jsx)("div",{className:"closing-app open",children:Object(p.jsx)("div",{style:{textAlign:"center"},children:Object(p.jsx)("div",{className:"closing-text red-text text-darken-1 ",children:"cdn stopped working, the application doesn't work, but maybe I'll find a solution... \u2639"})})})};var g=function(){var e=Object(a.useState)([]),t=Object(b.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(!1),r=Object(b.a)(s,2),l=r[0];function o(e){return j.apply(this,arguments)}function j(){return(j=Object(h.a)(d.a.mark((function e(t){var c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://weather-restful.herokuapp.com/weather/".concat(t));case 2:return c=e.sent,e.next=5,c.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r[1],Object(a.useEffect)((function(){function e(e){return t.apply(this,arguments)}function t(){return(t=Object(h.a)(d.a.mark((function e(t){var c,a,n,s,r,l;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=[],a=Object(u.a)(t),e.prev=2,a.s();case 4:if((n=a.n()).done){e.next=13;break}return s=n.value,e.next=8,o(s);case 8:r=e.sent,l=Object(i.a)({city:s},r),c.push(l);case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),a.e(e.t0);case 18:return e.prev=18,a.f(),e.finish(18);case 21:return e.abrupt("return",c);case 22:case"end":return e.stop()}}),e,null,[[2,15,18,21]])})))).apply(this,arguments)}function c(){return(c=Object(h.a)(d.a.mark((function t(){var c,a,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=JSON.parse(localStorage.getItem("cities"))?JSON.parse(localStorage.getItem("cities")):[],a=JSON.parse(localStorage.getItem("cityNames")),!c.length){t.next=9;break}return n(c),t.next=6,e(a);case 6:s=t.sent,localStorage.setItem("cities",JSON.stringify(s)),"/"===window.location.pathname&&n(s);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){c.apply(this,arguments)}()}),[]),Object(p.jsxs)("div",{className:"App container",children:[Object(p.jsxs)("div",{className:"header",children:[Object(p.jsx)("h1",{children:"React Weather App"}),Object(p.jsx)("a",{href:"https://github.com/Ksooft",target:"_blank",rel:"noopener noreferrer",className:"github",children:Object(p.jsx)("i",{className:"fab fa-github"})})]}),Object(p.jsx)(m,{requestWeather:function(e,t){alert("cdn not working \u2639")}}),Object(p.jsx)(x,{cities:c,deleteCity:function(e){document.querySelector('.collection[data-city="'.concat(e,'"')).classList.add("hideAnimation"),setTimeout((function(){n(c.filter((function(t){return t.city!==e})));var t=JSON.parse(localStorage.getItem("cities")).filter((function(t){return t.city!==e}));localStorage.setItem("cities",JSON.stringify(t));var a=JSON.parse(localStorage.getItem("cityNames")).filter((function(t){return t!==e}));localStorage.setItem("cityNames",JSON.stringify(a))}),230)},loading:l}),l?Object(p.jsx)(f,{}):"",Object(p.jsx)(y,{})]})},N=function(e){var t=e.day,c=e.month,a=e.temp,n=e.wind;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("p",{style:{marginLeft:"10px",fontSize:"17px",textAlign:"left"},children:[function(e){var t=new Date,c=new Date;return c.setDate(t.getDate()+e),c.getDate()}(t)," ",c,":"]}),Object(p.jsxs)("ul",{className:"detail-info",children:[Object(p.jsxs)("li",{children:[Object(p.jsx)("span",{children:"Temperature:"})," ",a]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("span",{children:"Wind:"})," ",n]})]})]})},v=function(e){var t=e.day,c=e.month,a=e.infoCity,n=e.nameCity;return Object(p.jsx)("div",{className:"row",children:Object(p.jsx)("div",{className:"col s12 m12",children:Object(p.jsx)("div",{className:"card",children:Object(p.jsxs)("div",{className:"card-content",children:[Object(p.jsx)("span",{style:{fontWeight:500},className:"card-title left-align",children:n}),Object(p.jsxs)("p",{style:{marginLeft:"10px",fontSize:"17px",textAlign:"left"},children:["Today (",t," ",c,"):"]}),Object(p.jsxs)("ul",{className:"detail-info",children:[Object(p.jsxs)("li",{children:[Object(p.jsx)("span",{children:"Temperature:"})," ",a.temperature]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("span",{children:"Wind:"})," ",a.wind]}),Object(p.jsxs)("li",{children:[Object(p.jsx)("span",{children:"Description:"})," ",a.description]})]}),a.forecast.map((function(e,t){return Object(p.jsx)(N,{day:+e.day,month:c,temp:e.temperature,wind:e.wind},t)}))]})})})})},w=function(e){var t=e.check,c=Object(a.useState)({}),n=Object(b.a)(c,2),s=n[0],r=n[1],i=Object(a.useState)(!0),o=Object(b.a)(i,2),j=o[0],d=o[1],u=t.match.params.city,h=(JSON.parse(localStorage.getItem("cityNames"))?JSON.parse(localStorage.getItem("cityNames")):[]).includes(u);if(Object(a.useEffect)((function(){var e;h&&(e=u,d(!0),fetch("https://weather-restful.herokuapp.com/weather/".concat(e)).then((function(e){return e.json()})).then((function(e){r(e),d(!1)})))}),[]),h){var m=(new Date).getDate(),O=(new Date).toLocaleString("en",{month:"long"});return Object(p.jsxs)("div",{className:"container detail App",children:[Object(p.jsx)(l.b,{to:"/weather-task",className:"detail-back",children:Object(p.jsx)("i",{className:"material-icons",children:"arrow_back"})}),Object(p.jsx)("h1",{style:{textAlign:"center"},children:"React Weather App"}),j?Object(p.jsx)(f,{}):Object(p.jsx)(v,{day:m,month:O,infoCity:s,nameCity:u})]})}return Object(p.jsxs)("div",{className:"notfound",children:[Object(p.jsx)(l.b,{to:"/weather-task",className:"detail-back",children:Object(p.jsx)("i",{className:"material-icons",children:"arrow_back"})}),Object(p.jsx)("h2",{className:"center-align red-text",children:"There is not found page!"})]})},k=function(){return Object(p.jsx)(l.a,{children:Object(p.jsxs)(o.c,{children:[Object(p.jsx)(o.a,{exact:!0,path:"/weather-task",component:g}),Object(p.jsx)(o.a,{path:"/weather-task/:city",render:function(e){return Object(p.jsx)(w,Object(i.a)(Object(i.a)({},e),{},{check:e}))}})]})})};r.a.render(Object(p.jsx)(n.a.StrictMode,{children:Object(p.jsx)(k,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.57005d56.chunk.js.map